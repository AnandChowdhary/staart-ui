(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{279:function(e,t,r){"use strict";r.r(t);r(15),r(16),r(10),r(37),r(26),r(31);var n=r(8),c=r(13),o=r(53),l=r(19),d=r(20),m=r(9),f=r(7),v=r(33);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(m.a)(e);if(t){var c=Object(m.a)(this).constructor;r=Reflect.construct(n,arguments,c)}else r=n.apply(this,arguments);return Object(d.a)(this,r)}}var y=function(e,t,r,desc){var n,c=arguments.length,o=c<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(o=(c<3?n(o):c>3?n(t,r,o):n(t,r))||o);return c>3&&o&&Object.defineProperty(t,r,o),o},x=function(e){Object(l.a)(f,e);var t,r,d,m=h(f);function f(){var e;return Object(c.a)(this,f),(e=m.apply(this,arguments)).customer={email:"",name:"",phone:"",address:{city:"",country:"",line1:"",line2:"",postal_code:"",state:""}},e.loading=!1,e.loadingSave=!1,e}return Object(o.a)(f,[{key:"mounted",value:(d=Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.get());case 1:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"get",value:(r=Object(n.a)(regeneratorRuntime.mark((function e(){var t,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading=!0,e.prev=1,e.next=4,this.$axios.get("/groups/".concat(this.$route.params.id,"/billing"));case 4:t=e.sent,(data=t.data).address||(data.address={city:"",country:"",line1:"",line2:"",postal_code:"",state:""}),this.customer=data,e.next=12;break;case 10:e.prev=10,e.t0=e.catch(1);case 12:this.loading=!1;case 13:case"end":return e.stop()}}),e,this,[[1,10]])}))),function(){return r.apply(this,arguments)})},{key:"save",value:(t=Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loadingSave=!0,e.prev=1,e.next=4,this.$axios.patch("/groups/".concat(this.$route.params.id,"/billing"),{name:this.customer.name,email:this.customer.email,phone:this.customer.phone,address:this.customer.address});case 4:e.sent.data,e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:this.loadingSave=!1;case 11:case"end":return e.stop()}}),e,this,[[1,8]])}))),function(){return t.apply(this,arguments)})}]),f}(v.b),_=x=y([Object(v.a)({middleware:"authenticated",layout:"teams"})],x),k=r(11),component=Object(k.a)(_,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",["no-billing-account"in e.$route.query?r("b-message",{attrs:{type:"is-danger"}},[e._v("Add your billing details to continue.")]):e._e(),e._v(" "),r("h1",{staticClass:"is-size-4 mb-4"},[e._v("Customer details")]),e._v(" "),r("form",{on:{submit:function(t){return t.preventDefault(),e.save(t)}}},[r("b-field",{attrs:{label:"Name"}},[r("b-input",{attrs:{type:"text",required:""},model:{value:e.customer.name,callback:function(t){e.$set(e.customer,"name",t)},expression:"customer.name"}})],1),e._v(" "),r("div",{staticClass:"columns mb-0"},[r("b-field",{staticClass:"column mb-0",attrs:{label:"Billing email"}},[r("b-input",{attrs:{type:"email",required:""},model:{value:e.customer.email,callback:function(t){e.$set(e.customer,"email",t)},expression:"customer.email"}})],1),e._v(" "),r("b-field",{staticClass:"column mb-0",attrs:{label:"Phone"}},[r("b-input",{attrs:{type:"text"},model:{value:e.customer.phone,callback:function(t){e.$set(e.customer,"phone",t)},expression:"customer.phone"}})],1)],1),e._v(" "),r("b-field",{attrs:{label:"Address"}},[r("b-input",{attrs:{type:"text"},model:{value:e.customer.address.line1,callback:function(t){e.$set(e.customer.address,"line1",t)},expression:"customer.address.line1"}})],1),e._v(" "),r("div",{staticClass:"columns mb-0"},[r("b-field",{staticClass:"column mb-0",attrs:{label:"Postal code"}},[r("b-input",{attrs:{type:"text"},model:{value:e.customer.address.postal_code,callback:function(t){e.$set(e.customer.address,"postal_code",t)},expression:"customer.address.postal_code"}})],1),e._v(" "),r("b-field",{staticClass:"column mb-0",attrs:{label:"City"}},[r("b-input",{attrs:{type:"text"},model:{value:e.customer.address.city,callback:function(t){e.$set(e.customer.address,"city",t)},expression:"customer.address.city"}})],1)],1),e._v(" "),r("div",{staticClass:"columns mb-0"},[r("b-field",{staticClass:"column mb-0",attrs:{label:"State"}},[r("b-input",{attrs:{type:"text"},model:{value:e.customer.address.state,callback:function(t){e.$set(e.customer.address,"state",t)},expression:"customer.address.state"}})],1),e._v(" "),r("b-field",{staticClass:"column mb-0",attrs:{label:"Country"}},[r("b-input",{attrs:{type:"text"},model:{value:e.customer.address.country,callback:function(t){e.$set(e.customer.address,"country",t)},expression:"customer.address.country"}})],1)],1),e._v(" "),r("b-button",{attrs:{type:"is-primary","native-type":"submit",loading:e.loadingSave}},[r("span",[e._v("Update details")])]),e._v(" "),r("b-loading",{attrs:{"is-full-page":!1,active:e.loading},on:{"update:active":function(t){e.loading=t}}})],1)],1)}),[],!1,null,null,null);t.default=component.exports}}]);